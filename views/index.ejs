<html>
<head>
  <title>The Social Sentiment</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.2/angular-ui-router.js"></script>
  <script src="/javascripts/angularApp.js"></script>
  <style> .glyphicon-thumbs-up { cursor:pointer } </style>
</head>
<body ng-app="socialSentiment" background="images/bg.jpg">
<div class="row">
  <div class="col-lg-9 col-lg-offset-2 bg-info" background-color="white">
    <ui-view></ui-view>
   <!-- <div class="page-header">
      <h1>Current News</h1>
    </div>

    <div ng-repeat="post in posts | orderBy: '-upvotes'">
      <span class="glyphicon glyphicon-thumbs-up"
      ng-click="incrementUpvotes(post)"></span>
      {{post.upvotes}}
      <span style="font-size:20px; margin-left:10px;">
        {{post.title}}
      </span>
      <span>
      <a href="#/posts/{{$index}}">Comments</a>
      </span>
    </div>
  </div>-->
  </div>
</div>

<script type="text/ng-template" id="/home.html">
  <nav class="navbar navbar-static-top navbar-inverse">
    <a class="navbar-brand" href="#" >
      <img src="images/logo.png" height="35px"></a>
    <ul class="nav navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">About</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Contact</a>
      </li>
    </ul>
  </nav>
  <div class="jumbotron" >
    <h1 class="display-2">The Social Sentiment</h1>
    <h2>Trending news</h2>
  </div>



  <div class="container">
    <!-- Example row of columns -->
    <div class="row">
      <div class="col-md-3">
        <h2>Politics</h2>
        <div ng-repeat="post in posts | orderBy: '-upvotes'">
    <span class="glyphicon glyphicon-thumbs-up"
          ng-click="incrementUpvotes(post)"></span>
          {{post.upvotes}}
          <span style="font-size:14px; margin-left:5px;">
      {{post.title}}
    </span>
          <span>
      <a href="#/posts/{{post._id}}">Comments <span class="badge">{{post.comments.length}}</span></a></a>
      </span>

          <span style="float: right;" ng-click="deletePost(post)">
				<a href="#"> Delete </a>
			</span>
        </div>
        <a class="btn btn-secondary" href="#" role="button">View details &raquo;</a></p>
      </div>
      <div class="col-md-3">
        <h2>Tech</h2>
        <div ng-repeat="post in posts | orderBy: '-upvotes'">
    <span class="glyphicon glyphicon-thumbs-up"
          ng-click="incrementUpvotes(post)"></span>
          {{post.upvotes}}
          <span style="font-size:14px; margin-left:5px;">
      {{post.title}}
    </span>
          <span>
      <a href="#/posts/{{post._id}}">Comments <span class="badge">{{post.comments.length}}</span></a></a>
      </span>

          <span style="float: right;" ng-click="deletePost(post)">
				<a href="#"> Delete </a>
			</span>
        </div>
        <a class="btn btn-secondary" href="#" role="button">View details &raquo;</a></p>
      </div>
      <div class="col-md-3">
        <h2>Sports</h2>

        <div ng-repeat="post in posts | orderBy: '-upvotes'">

    <span class="glyphicon glyphicon-thumbs-up"
          ng-click="incrementUpvotes(post)"></span>
          {{post.upvotes}}
          <span style="font-size:14px; margin-left:5px;">
      {{post.title}}
    </span>
          <span>
      <a href="#/posts/{{post._id}}">Comments <span class="badge">{{post.comments.length}}</span></a></a>
      </span>

          <span style="float: right;" ng-click="deletePost(post)">
				<a href="#"> Delete </a>
			</span>

        </div>

        <a class="btn btn-secondary" href="#" role="button">View details &raquo;</a></p>

      </div>

    </div>
  </div>

 <!-- <div ng-repeat="post in posts | orderBy: '-upvotes'">
    <span class="glyphicon glyphicon-thumbs-up"
            ng-click="incrementUpvotes(post)"></span>
      {{post.upvotes}}
    <span style="font-size:20px; margin-left:10px;">
      {{post.title}}
    </span>
    <span>
      <a href="#/posts/{{post._id}}">Comments <span class="badge">{{post.comments.length}}</span></a></a>
      </span>

    <span style="float: right;" ng-click="deletePost(post)">
				<a href="#"> Delete </a>
			</span>
  </div>-->
  <form ng-submit="addPost()" style="margin-top:30px;">
  <h3>Add a new post</h3>
  <div class="form-group">
    <input type="text" class="form-control" placeHolder="Title" placeholder="Title" ng-model="title"></input>
  </div>
  <div class="form-group">
    <input type="text" class="form-control" placeholder="Link" ng-model="link"></input>
  </div>
  <button type="submit" class="btn btn-primary">Post</button>
  </form>

</script>

<script type="text/ng-template" id="/posts.html">
  <div class="page-header">
    <h2>
      <a href="{{post.url}}">
        {{post.title}}
      </a>
    </h2>
    <p>
      {{post.description}}
    </p>
  </div>






  <div class="container">
    <div class="row">
      <div class = "col-lg-3" ng-repeat="comment in post.comments | orderBy:'-upvotes'">
        <span class="glyphicon glyphicon-thumbs-up"
          ng-click="incrementUpvotes(comment)"></span>
           {{comment.upvotes}} - by {{comment.author}}
        <span style="font-size:15px; margin-left:5px;">
            {{comment.body}}
         </span>
      </div>
    <div class = "col-lg-3" ng-repeat="comment in post.comments | orderBy:'-upvotes'">
    <span class="glyphicon glyphicon-thumbs-up"
          ng-click="incrementUpvotes(comment)"></span>
      {{comment.upvotes}} - by {{comment.author}}
      <span style="font-size:15px; margin-left:5px;">
      {{comment.body}}
    </span>
    </div>
    <div class = "col-lg-3" ng-repeat="comment in post.comments | orderBy:'-upvotes'">
    <span class="glyphicon glyphicon-thumbs-up"
          ng-click="incrementUpvotes(comment)"></span>
      {{comment.upvotes}} - by {{comment.author}}
      <span style="font-size:15px; margin-left:5px;">
      {{comment.body}}
    </span>
    </div>
  </div>
  </div>




  </div>
  <form ng-submit="addComment()"
        style="margin-top:30px;">
    <h3>Add a new comment</h3>

    <div class="form-group">
      <input type="text"
             class="form-control"
             placeholder="Comment"
             ng-model="body"></input>
    </div>
    <button type="submit" class="btn btn-primary">Post</button>
  </form>

</script>
</body>
</html>